{"version":3,"sources":["components/Player/store/actionTypes.ts","apis/url.ts","apis/axiosInstance.ts","apis/config.ts","pages/Recommend/store/actionTypes.ts","pages/Singer/store/actionTypes.ts","pages/Singers/store/actionTypes.ts","apis/requests/singer.ts","pages/Rank/store/actionTypes.ts","pages/Album/store/actionTypes.ts","components/Player/store/actions.ts","components/Player/store/reducer.ts","store/actionTypes.ts","pages/Singers/store/actions.ts","pages/Singer/store/actions.ts","apis/requests/recommend.ts","pages/Recommend/store/actions.ts","pages/Rank/store/actions.ts","apis/requests/rank.ts","apis/requests/album.ts","pages/Album/store/actions.ts","pages/Recommend/store/reducer.ts","App.module.scss","router/index.tsx","store/reducer.ts","pages/Singers/store/reducer.ts","pages/Rank/store/reducer.ts","pages/Album/store/reducer.ts","pages/Singer/store/reducer.ts","store/index.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["SET_CURRENT_SONG","SET_CURRENT_INDEX","SET_SONG_LIST","SET_PLAY_STATUS","SET_SHOW_SONG_LIST","DELETE_SONG","SET_FULLSCREEN","GET_BANNERS","GET_RECOMMEND_LIST","GET_RECOMMEND_NEW_SONGS","GET_RANK_LIST","GET_SINGER_LIST","GET_SINGER_DETAIL_AND_HOT_SONGS","GET_ALBUM_DETAIL_BY_ID","axiosInstance","axios","create","baseURL","timeout","interceptors","response","use","res","status","data","code","Promise","resolve","reject","error","console","log","axiosGet","url","params","get","SET_RECOMMEND_LIST","SET_RECOMMEND_SONGS","SET_SINGER_DETAIL","SET_SINGER_LOADING","SET_SINGER_LIST","getSingerListRequest","offset","initial","getSingerDetailRequest","id","a","artist","hotSongs","map","item","name","album","al","singers","ar","dt","SET_RANK_DATA","SET_ALBUM_DETAIL","changeCurrentSongAction","payload","type","changeCurrentIndexAction","changeSongListAction","changePlayStatusAction","changeShowSongListAction","deleteSongAction","changeFullscreenAction","produce","state","action","currentSong","idx","songList","length","currentIndex","playStatus","showSongList","index","splice","deleteSongFromPlayList","fullScreen","TOGGLE_TOAST","getSingerListAction","dispatch","resp","artists","changeSingerDetailAction","getSingerDetailAction","getRecommendNewSongsRequest","result","song","duration","changeRecommendList","changeRecommendSongs","getRecommendListAction","limit","getRecommendSongsAcrion","dispath","getRankListAction","list","globalList","filter","tracks","officialList","getAlbumDetailRequest","playlist","getAlbumDetailAction","recommendList","recommendSongs","loading","module","exports","HomeLayout","lazy","Recommend","Singers","Rank","Album","routes","component","path","exact","render","to","key","show","showToast","toastText","singerList","albumDetail","singerDetail","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","reducers","combineReducers","recommend","recommendReducer","toast","toastReducer","player","playerReducer","singersReducer","rank","rankReducer","albumReducer","singer","singerReducer","store","createStore","applyMiddleware","thunk","App","className","style","fallback","renderRoutes","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.5dbd3a2a.chunk.js","sourcesContent":["export const SET_CURRENT_SONG: string = \"SET_CURRENT_SONG\";\r\n\r\nexport const SET_CURRENT_INDEX: string = \"SET_CURRENT_INDEX\";\r\n\r\nexport const SET_SONG_LIST: string = \"SET_SONG_LIST\";\r\nexport const SET_PLAY_STATUS: string = \"SET_PLAY_STATUS\";\r\nexport const SET_SHOW_SONG_LIST: string = \"SET_SHOW_SONG_LIST\";\r\n// 删除歌曲\r\nexport const DELETE_SONG: string = \"DELETE_SONG\";\r\nexport const SET_FULLSCREEN: string = \"SET_FULLSCREEN\";\r\n","/**\r\n * @description 接口地址统一管理\r\n */\r\n\r\n/**\r\n * 推荐相关\r\n */\r\nexport const GET_BANNERS: string = '/banner'; // banner\r\nexport const GET_RECOMMEND_LIST: string = '/personalized'; // 推荐歌单\r\nexport const GET_RECOMMEND_NEW_SONGS: string = '/personalized/newsong'; // 推荐新歌\r\n\r\n/**\r\n * 排行榜相关\r\n */\r\nexport const GET_RANK_LIST: string = '/toplist/detail'; // 榜单列表\r\n\r\n/**\r\n * 歌手相关\r\n */\r\nexport const GET_SINGER_LIST: string = '/artist/list'; // 歌手列表\r\nexport const GET_SINGER_DETAIL_AND_HOT_SONGS: string = '/artists'; // 歌手信息和热门歌曲\r\n\r\n/**\r\n * 歌单相关\r\n */\r\nexport const GET_ALBUM_DETAIL_BY_ID: string = '/playlist/detail'; // 歌单详情\r\n\r\n/**\r\n * 搜索相关\r\n */\r\nexport const GET_HOT_KEYWORDS_LIST: string = '/search/hot'; // 热门搜索关键词\r\nexport const GET_SEARCH_LIST_BY_KEYWORDS: string = '/search'; // 搜索\r\nexport const GET_SEARCH_SUGGEST_BY_KEYWORDS: string = '/search/suggest'; // 搜索建议\r\n\r\n/**\r\n * 歌曲相关\r\n */\r\nexport const GET_LYRIC: string = '/lyric'; // 歌词\r\n","import axios, { AxiosError, AxiosResponse } from \"axios\";\r\n\r\nimport { BASE_URL, TIME_OUT, errorHandle } from \"./config\";\r\n\r\ninterface IResponseData {\r\n  code: number;\r\n  total?: number;\r\n  [key: string]: any;\r\n}\r\n\r\n// 创建axios实例\r\nconst axiosInstance = axios.create({\r\n  baseURL: BASE_URL,\r\n  timeout: TIME_OUT,\r\n});\r\n\r\n// 响应拦截\r\naxiosInstance.interceptors.response.use(\r\n  (res: AxiosResponse) => {\r\n    if (res.status === 200) {\r\n      const code: number = res.data.code;\r\n      if (code === 200) {\r\n        return Promise.resolve(res.data);\r\n      }\r\n    }\r\n    return Promise.reject(res.data);\r\n  },\r\n  (error: AxiosError) => {\r\n    if (error && error.response) {\r\n      // 请求已发出，但是不在2xx的范围\r\n      errorHandle(error.response.status);\r\n      return Promise.reject(error.response);\r\n    } else {\r\n      console.log(\"网络请求失败, 请刷新重试\");\r\n      return Promise.reject(error);\r\n    }\r\n  }\r\n);\r\n\r\nconst axiosGet = (url: string, params?: any): Promise<IResponseData> =>\r\n  axiosInstance.get(url, { params });\r\nconst axiosPost = (url: string, params?: any): Promise<IResponseData> =>\r\n  axiosInstance.post(url, params);\r\n\r\nexport { axiosGet, axiosPost };\r\n\r\nexport default axiosInstance;\r\n","const BASE_URL: string = \"https://collin-netease-cloud-music-api.vercel.app/\";\r\n\r\nconst TIME_OUT: number = 1000 * 10;\r\n\r\n/**\r\n * 请求失败后的错误统一处理\r\n * @param status 状态码\r\n */\r\nconst errorHandle = (status: number): void => {\r\n  // HTTP状态码判断\r\n  if (status >= 500) {\r\n    console.log(\"系统开小差了, 请联系技术管理员或稍后重试\");\r\n  } else {\r\n    console.log(\"网络请求失败, 请刷新重试\");\r\n  }\r\n};\r\n\r\nexport { BASE_URL, TIME_OUT, errorHandle };\r\n","export const SET_RECOMMEND_LIST: string = \"SET_RECOMMEND_LIST\";\r\nexport const SET_RECOMMEND_SONGS: string = \"SET_RECOMMEND_SONGS\";\r\n","// 设置歌手详情\r\nexport const SET_SINGER_DETAIL: string = \"SET_SINGER_DETAIL\";\r\n\r\n// 设置loading状态\r\nexport const SET_SINGER_LOADING: string = \"SET_SINGER_LOADING\";\r\n","export const SET_SINGER_LIST: string = \"SET_SINGER_LIST\";\r\n","import { axiosGet } from \"../axiosInstance\";\r\nimport { GET_SINGER_LIST, GET_SINGER_DETAIL_AND_HOT_SONGS } from \"../url\";\r\n\r\n/**\r\n * 请求歌手列表数据\r\n * @param offset\r\n * @param initial 首字母\r\n */\r\nconst getSingerListRequest = (offset: number, initial?: string) => {\r\n  return axiosGet(GET_SINGER_LIST, { offset, initial });\r\n};\r\n\r\n/**\r\n * 请求歌手信息和热门歌曲数据\r\n * @param id 歌手id\r\n */\r\nconst getSingerDetailRequest = async (id: number) => {\r\n  const { artist, hotSongs } = await axiosGet(GET_SINGER_DETAIL_AND_HOT_SONGS, {\r\n    id,\r\n  });\r\n  return {\r\n    ...artist,\r\n    hotSongs: hotSongs.map((item: any) => {\r\n      return {\r\n        id: item.id,\r\n        name: item.name,\r\n        album: item.al,\r\n        singers: item.ar,\r\n        dt: item.dt,\r\n      };\r\n    }),\r\n  };\r\n};\r\n\r\nexport { getSingerListRequest, getSingerDetailRequest };\r\n","export const SET_RANK_DATA: string = \"SET_RANK_DATA\";\r\n","// 设置歌单详情\r\nexport const SET_ALBUM_DETAIL: string = \"SET_ALBUM_DETAIL\";\r\n","import { Song } from \"../../../typings\";\r\nimport {\r\n  DELETE_SONG,\r\n  SET_CURRENT_INDEX,\r\n  SET_CURRENT_SONG,\r\n  SET_FULLSCREEN,\r\n  SET_PLAY_STATUS,\r\n  SET_SHOW_SONG_LIST,\r\n  SET_SONG_LIST,\r\n} from \"./actionTypes\";\r\n\r\nexport const changeCurrentSongAction = (payload: Song) => {\r\n  return {\r\n    type: SET_CURRENT_SONG,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const changeCurrentIndexAction = (payload: number) => {\r\n  return {\r\n    type: SET_CURRENT_INDEX,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const changeSongListAction = (payload: Song[]) => {\r\n  return {\r\n    type: SET_SONG_LIST,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const changePlayStatusAction = (payload: boolean) => {\r\n  return {\r\n    type: SET_PLAY_STATUS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const changeShowSongListAction = (payload: boolean) => {\r\n  return {\r\n    type: SET_SHOW_SONG_LIST,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const deleteSongAction = (payload: number) => {\r\n  return {\r\n    type: DELETE_SONG,\r\n    payload,\r\n  };\r\n};\r\nexport const changeFullscreenAction = (payload: boolean) => {\r\n  return {\r\n    type: SET_FULLSCREEN,\r\n    payload,\r\n  };\r\n};\r\n","import { stat } from \"fs\";\r\nimport produce from \"immer\";\r\nimport { IAction, Song } from \"../../../typings\";\r\nimport {\r\n  DELETE_SONG,\r\n  SET_CURRENT_INDEX,\r\n  SET_CURRENT_SONG,\r\n  SET_FULLSCREEN,\r\n  SET_PLAY_STATUS,\r\n  SET_SHOW_SONG_LIST,\r\n  SET_SONG_LIST,\r\n} from \"./actionTypes\";\r\n\r\nexport interface PlayerState {\r\n  currentSong: Song | null;\r\n  songList: Song[];\r\n  currentIndex: number;\r\n  playStatus: boolean;\r\n  showSongList: boolean;\r\n  fullScreen: boolean;\r\n}\r\n\r\nexport interface PlayerAction extends IAction {\r\n  payload: Song | Song[] | number | boolean;\r\n}\r\n\r\nconst initState: PlayerState = {\r\n  currentSong: null,\r\n  songList: [],\r\n  currentIndex: -1,\r\n  playStatus: false,\r\n  showSongList: false,\r\n  fullScreen: false,\r\n};\r\n\r\n/**\r\n * 删除指定歌曲\r\n * @param state\r\n * @param index\r\n */\r\nconst deleteSongFromPlayList = (state: PlayerState, index: number): void => {\r\n  const { songList, currentIndex } = state;\r\n\r\n  songList.splice(index, 1);\r\n  if (index <= currentIndex) {\r\n    state.currentIndex = state.currentIndex === 0 ? 0 : state.currentIndex - 1;\r\n  }\r\n};\r\n\r\nexport default produce((state: PlayerState, action: PlayerAction) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case SET_CURRENT_SONG:\r\n      state.currentSong = payload as Song;\r\n      break;\r\n    case SET_CURRENT_INDEX:\r\n      let idx = payload as number;\r\n      if (idx < 0) {\r\n        idx = state.songList.length - 1;\r\n      } else if (idx >= state.songList.length) {\r\n        idx = 0;\r\n      }\r\n      state.currentIndex = idx;\r\n      state.playStatus = true;\r\n\r\n      break;\r\n    case SET_SONG_LIST:\r\n      state.songList = payload as Song[];\r\n      break;\r\n    case SET_SHOW_SONG_LIST:\r\n      state.showSongList = payload as boolean;\r\n      break;\r\n    case SET_PLAY_STATUS:\r\n      state.playStatus = payload as boolean;\r\n      break;\r\n    case DELETE_SONG:\r\n      deleteSongFromPlayList(state, action.payload as number);\r\n      break;\r\n    case SET_FULLSCREEN:\r\n      state.fullScreen = payload as boolean;\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n}, initState);\r\n","export const TOGGLE_TOAST = \"TOGGLE_TOAST\";\r\n","import { Dispatch } from \"redux\";\r\nimport { getSingerListRequest } from \"../../../apis/requests/singer\";\r\nimport { Singer } from \"../../../typings\";\r\nimport { SET_SINGER_LIST } from \"./actionTypes\";\r\n\r\nexport const changeSingerListAction = (payload: Singer[]) => {\r\n  return {\r\n    type: SET_SINGER_LIST,\r\n    payload,\r\n  };\r\n};\r\n\r\n/**\r\n * 请求歌手列表\r\n * @param initial 首字母\r\n */\r\nexport const getSingerListAction = (initial?: string) => {\r\n  return async (dispatch: Dispatch) => {\r\n    const resp = await getSingerListRequest(0, initial);\r\n    dispatch(changeSingerListAction(resp.artists));\r\n  };\r\n};\r\n","import { Dispatch } from \"redux\";\r\nimport { getSingerDetailRequest } from \"../../../apis/requests/singer\";\r\nimport { Singer } from \"../../../typings\";\r\nimport { SET_SINGER_DETAIL, SET_SINGER_LOADING } from \"./actionTypes\";\r\n\r\nexport const changeSingerDetailAction = (payload: Singer) => {\r\n  return {\r\n    type: SET_SINGER_DETAIL,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const changeLoadingAction = (payload: boolean) => {\r\n  return {\r\n    type: SET_SINGER_LOADING,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const getSingerDetailAction = (id: number) => {\r\n  return async (dispatch: Dispatch) => {\r\n    dispatch(changeLoadingAction(true));\r\n    const resp = await getSingerDetailRequest(id);\r\n    dispatch(changeSingerDetailAction(resp));\r\n  };\r\n};\r\n","import { axiosGet } from \"../axiosInstance\";\r\nimport {\r\n  GET_BANNERS,\r\n  GET_RECOMMEND_LIST,\r\n  GET_RECOMMEND_NEW_SONGS,\r\n} from \"../url\";\r\n\r\n/**\r\n * 请求banner数据\r\n * @param type\r\n */\r\nconst getBannersRequest = (type: number) => {\r\n  return axiosGet(GET_BANNERS, { type });\r\n};\r\n\r\n/**\r\n * 请求推荐歌单数据\r\n * @param limit 取出数量\r\n */\r\nconst getRecommendListRequest = (limit: number) => {\r\n  return axiosGet(GET_RECOMMEND_LIST, { limit });\r\n};\r\n\r\n/**\r\n * 请求推荐新歌数据\r\n */\r\nconst getRecommendNewSongsRequest = async () => {\r\n  const { result } = await axiosGet(GET_RECOMMEND_NEW_SONGS);\r\n  return result.map((item: any) => {\r\n    return {\r\n      id: item.id,\r\n      name: item.name,\r\n      album: item.song.album,\r\n      singers: item.song.artists,\r\n      dt: item.song.duration,\r\n    };\r\n  });\r\n};\r\n\r\nexport {\r\n  getBannersRequest,\r\n  getRecommendListRequest,\r\n  getRecommendNewSongsRequest,\r\n};\r\n","import { Dispatch } from \"redux\";\r\nimport {\r\n  getRecommendListRequest,\r\n  getRecommendNewSongsRequest,\r\n} from \"../../../apis/requests/recommend\";\r\nimport { Recomm, Song } from \"../../../typings\";\r\nimport { SET_RECOMMEND_LIST, SET_RECOMMEND_SONGS } from \"./actionTypes\";\r\n\r\nexport const changeRecommendList = (payload: Recomm[]) => {\r\n  return {\r\n    type: SET_RECOMMEND_LIST,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const changeRecommendSongs = (payload: Song[]) => {\r\n  return {\r\n    type: SET_RECOMMEND_SONGS,\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const getRecommendListAction = (type: number) => {\r\n  return async (dispatch: Dispatch) => {\r\n    const res: any = await getRecommendListRequest(type);\r\n    dispatch(changeRecommendList(res.result));\r\n  };\r\n};\r\n\r\nexport const getRecommendSongsAcrion = () => {\r\n  return async (dispath: Dispatch) => {\r\n    const res: any = await getRecommendNewSongsRequest();\r\n    dispath(changeRecommendSongs(res));\r\n  };\r\n};\r\n","import { Dispatch } from \"redux\";\r\nimport { getRankListRequest } from \"../../../apis/requests/rank\";\r\nimport { SET_RANK_DATA } from \"./actionTypes\";\r\nimport { RankItem, RankPayload } from \"../typing\";\r\n\r\nexport const changeRankDataAction = (payload: RankPayload) => {\r\n  return {\r\n    type: SET_RANK_DATA,\r\n    payload,\r\n  };\r\n};\r\n\r\n/**\r\n * 获取榜单数据\r\n */\r\nexport const getRankListAction = () => {\r\n  return async (dispatch: Dispatch) => {\r\n    const resp: any = await getRankListRequest();\r\n\r\n    const list = resp.list,\r\n      globalList = list.filter((item: RankItem) => !item.tracks?.length),\r\n      officialList = list.filter((item: RankItem) => item.tracks?.length);\r\n\r\n    dispatch(changeRankDataAction({ globalList, officialList }));\r\n  };\r\n};\r\n","import { axiosGet } from \"../axiosInstance\";\r\nimport { GET_RANK_LIST } from \"../url\";\r\n\r\n/**\r\n * 请求所有榜单数据\r\n */\r\nconst getRankListRequest = () => {\r\n  return axiosGet(GET_RANK_LIST);\r\n};\r\n\r\nexport { getRankListRequest };\r\n","import { axiosGet } from \"../axiosInstance\";\r\nimport { GET_ALBUM_DETAIL_BY_ID } from \"../url\";\r\n\r\n/**\r\n * 请求歌单详情\r\n */\r\nconst getAlbumDetailRequest = async (id: number) => {\r\n  const { playlist }: any = await axiosGet(GET_ALBUM_DETAIL_BY_ID, { id });\r\n  return {\r\n    ...playlist,\r\n    tracks: playlist.tracks.map((item: any) => {\r\n      return {\r\n        id: item.id,\r\n        name: item.name,\r\n        album: item.al,\r\n        singers: item.ar,\r\n        dt: item.dt,\r\n      };\r\n    }),\r\n  };\r\n};\r\n\r\nexport { getAlbumDetailRequest };\r\n","import { SET_ALBUM_DETAIL } from \"./actionTypes\";\r\n\r\nimport { getAlbumDetailRequest } from \"../../../apis/requests/album\";\r\nimport { Dispatch } from \"redux\";\r\n\r\nexport const changeAlbumDetailAction = (payload: any) => {\r\n  return {\r\n    type: SET_ALBUM_DETAIL,\r\n    payload: payload,\r\n  };\r\n};\r\n\r\n/**\r\n * 请求榜单详情数据\r\n * @param {Number} id\r\n */\r\nexport const getAlbumDetailAction = (id: number) => {\r\n  return async (dispatch: Dispatch) => {\r\n    const resp = await getAlbumDetailRequest(id);\r\n    dispatch(changeAlbumDetailAction(resp));\r\n  };\r\n};\r\n","import { IAction, Recomm, Song } from \"../../../typings\";\r\nimport { produce } from \"immer\";\r\nimport { SET_RECOMMEND_LIST, SET_RECOMMEND_SONGS } from \"./actionTypes\";\r\nexport interface RecommmendState {\r\n  recommendList: Recomm[];\r\n  recommendSongs: Song[];\r\n  loading: boolean;\r\n}\r\n\r\nexport interface RecommAction extends IAction {\r\n  payload: Recomm[] | Song[] | boolean;\r\n}\r\n\r\nconst initialState: RecommmendState = {\r\n  recommendList: [],\r\n  recommendSongs: [],\r\n  loading: true,\r\n};\r\n\r\nexport default produce((state: RecommmendState, action: RecommAction) => {\r\n  switch (action.type) {\r\n    case SET_RECOMMEND_LIST:\r\n      state.recommendList = action.payload as Recomm[];\r\n      break;\r\n    case SET_RECOMMEND_SONGS:\r\n      state.recommendSongs = action.payload as Song[];\r\n      state.loading = false;\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n}, initialState);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2gXF4\"};","import React, { lazy } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst HomeLayout = lazy(() => import(\"../layouts/HomeLayout\"));\r\nconst Recommend = lazy(() => import(\"../pages/Recommend\"));\r\nconst Singers = lazy(() => import(\"../pages/Singers\"));\r\nconst Rank = lazy(() => import(\"../pages/Rank\"));\r\nconst Album = lazy(() => import(\"../pages/Album\"));\r\nconst Singer = lazy(() => import(\"../pages/Singer\"));\r\n\r\nconst routes = [\r\n  {\r\n    component: HomeLayout,\r\n    routes: [\r\n      {\r\n        path: \"/\",\r\n        exact: true,\r\n        render: () => {\r\n          return <Redirect to={\"/recommend\"}></Redirect>;\r\n        },\r\n      },\r\n      {\r\n        path: \"/recommend\",\r\n        key: \"recommend\",\r\n        component: Recommend,\r\n        routes: [\r\n          {\r\n            path: \"/recommend/:id\",\r\n            key: \"recommendAlbum\",\r\n            component: Album,\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        path: \"/singers\",\r\n        key: \"singers\",\r\n        component: Singers,\r\n        routes: [\r\n          {\r\n            path: \"/singers/:id\",\r\n            key: \"singer\",\r\n            component: Singer,\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        path: \"/rank\",\r\n        key: \"rank\",\r\n        component: Rank,\r\n        routes: [\r\n          {\r\n            path: \"/rank/:id\",\r\n            key: \"rank\",\r\n            component: Album,\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        path: \"/album/:id\",\r\n        exact: true,\r\n        key: \"album\",\r\n        component: Album,\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nexport default routes;\r\n","import { stat } from \"fs\";\r\nimport { produce } from \"immer\";\r\nimport { StoreState } from \".\";\r\nimport { IAction } from \"../typings\";\r\nimport { TOGGLE_TOAST } from \"./actionTypes\";\r\n\r\nexport interface ToastAction extends IAction {\r\n  show: boolean;\r\n  payload?: \"string\";\r\n}\r\n\r\nexport interface ToastState {\r\n  showToast: boolean;\r\n  toastText?: string;\r\n}\r\n\r\nconst initialState: ToastState = {\r\n  showToast: false,\r\n  toastText: \"\",\r\n};\r\n\r\nexport default produce((state: ToastState, action: ToastAction) => {\r\n  switch (action.type) {\r\n    case TOGGLE_TOAST:\r\n      if (action.show) {\r\n        state.showToast = true;\r\n        state.toastText = action.payload as string;\r\n      } else {\r\n        state.showToast = false;\r\n      }\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n}, initialState);\r\n","import produce from \"immer\";\r\nimport { IAction, Singer } from \"../../../typings\";\r\nimport { SET_SINGER_LIST } from \"./actionTypes\";\r\n\r\nexport interface SingersState {\r\n  singerList: Singer[];\r\n}\r\n\r\nexport interface SingerAction extends IAction {\r\n  payload: Singer[];\r\n}\r\n\r\nconst initState: SingersState = {\r\n  singerList: [],\r\n};\r\n\r\nexport default produce((state: SingersState, action: SingerAction) => {\r\n  switch (action.type) {\r\n    case SET_SINGER_LIST:\r\n      state.singerList = action.payload as Singer[];\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n}, initState);\r\n","import produce from \"immer\";\r\nimport { IAction } from \"../../../typings\";\r\nimport { RankItem, RankPayload } from \"../typing\";\r\nimport { SET_RANK_DATA } from \"./actionTypes\";\r\n\r\nexport interface RankState {\r\n  globalList: RankItem[];\r\n  officialList: RankItem[];\r\n  loading: boolean;\r\n}\r\n\r\nexport interface RankAction extends IAction {\r\n  payload: RankPayload;\r\n}\r\n\r\nconst initState: RankState = {\r\n  globalList: [],\r\n  officialList: [],\r\n  loading: true,\r\n};\r\n\r\nexport default produce((state: RankState, action: RankAction) => {\r\n  switch (action.type) {\r\n    case SET_RANK_DATA:\r\n      const { globalList, officialList } = action.payload as RankPayload;\r\n      state.globalList = globalList;\r\n      state.officialList = officialList;\r\n      state.loading = false;\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n}, initState);\r\n","import produce from \"immer\";\r\nimport { AlbumDetailProps } from \"../Detail\";\r\nimport { SET_ALBUM_DETAIL } from \"./actionTypes\";\r\n\r\nexport interface AlbumState {\r\n  albumDetail: AlbumDetailProps | null;\r\n  loading: boolean;\r\n}\r\n\r\nexport interface AlbumAction {\r\n  type: string;\r\n  payload: AlbumDetailProps | null;\r\n}\r\n\r\nconst initialState: AlbumState = {\r\n  albumDetail: null,\r\n  loading: true,\r\n};\r\n\r\nexport default produce((state: AlbumState, action: AlbumAction) => {\r\n  switch (action.type) {\r\n    case SET_ALBUM_DETAIL:\r\n      state.albumDetail = action.payload;\r\n      state.loading = false;\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n}, initialState);\r\n","import produce from \"immer\";\r\nimport { IAction, Singer } from \"../../../typings\";\r\nimport { SET_SINGER_DETAIL } from \"./actionTypes\";\r\n\r\nexport interface SingerState {\r\n  singerDetail: Singer | null;\r\n  loading: boolean;\r\n}\r\n\r\nexport interface SingerAction extends IAction {\r\n  payload: boolean | Singer;\r\n}\r\n\r\nconst initState: SingerState = {\r\n  singerDetail: null,\r\n  loading: true,\r\n};\r\n\r\nexport default produce((state: SingerState, action: SingerAction) => {\r\n  switch (action.type) {\r\n    case SET_SINGER_DETAIL:\r\n      state.singerDetail = action.payload as Singer;\r\n      state.loading = false;\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n}, initState);\r\n","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\r\nimport { reducer as recommendReducer } from \"../pages/Recommend/store\";\r\nimport thunk from \"redux-thunk\";\r\nimport { RecommmendState } from \"../pages/Recommend/store/reducer\";\r\nimport toastReducer, { ToastState } from \"./reducer\";\r\nimport { PlayerState } from \"../components/Player/store/reducer\";\r\nimport { reducer as playerReducer } from \"../components/Player/store\";\r\nimport { SingersState } from \"../pages/Singers/store/reducer\";\r\nimport { reducer as singersReducer } from \"../pages/Singers/store\";\r\nimport { RankState } from \"../pages/Rank/store/reducer\";\r\nimport { reducer as rankReducer } from \"../pages/Rank/store\";\r\nimport { AlbumState } from \"../pages/Album/store/reducer\";\r\nimport { reducer as albumReducer } from \"../pages/Album/store\";\r\nimport { SingerState } from \"../pages/Singer/store/reducer\";\r\nimport { reducer as singerReducer } from \"../pages/Singer/store\";\r\n\r\nconst composeEnhancers =\r\n  (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport interface StoreState {\r\n  recommend: RecommmendState;\r\n  toast: ToastState;\r\n  player: PlayerState;\r\n  singers: SingersState;\r\n  rank: RankState;\r\n  album: AlbumState;\r\n  singer: SingerState;\r\n}\r\n\r\nconst reducers = combineReducers({\r\n  recommend: recommendReducer,\r\n  toast: toastReducer,\r\n  player: playerReducer,\r\n  singers: singersReducer,\r\n  rank: rankReducer,\r\n  album: albumReducer,\r\n  singer: singerReducer,\r\n});\r\n\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\r\n\r\nexport default store;\r\n","import React, { Suspense } from \"react\";\nimport HomeLayout from \"./layouts/HomeLayout\";\nimport style from \"./App.module.scss\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { renderRoutes } from \"react-router-config\";\nimport routes from \"./router\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nfunction App() {\n  return (\n    <Provider store={store}>\n      <div className={style[\"App\"]}>\n        <BrowserRouter>\n          <Suspense fallback={null}>{renderRoutes(routes)}</Suspense>\n        </BrowserRouter>\n      </div>\n    </Provider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/variable.scss\";\n\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"./styles/index.scss\";\n\nimport \"collin-ui/dist/index.css\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}